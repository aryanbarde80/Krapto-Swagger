<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Krapto Technologies - Enterprise API Documentation</title>
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/swagger-ui-dist@5.9.0/swagger-ui.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link rel="icon" type="image/png" href="https://swagger.io/favicon-32x32.png" sizes="32x32" />
    <style>
        :root {
            --primary-color: #2563eb;
            --primary-dark: #1d4ed8;
            --secondary-color: #7c3aed;
            --accent-color: #06b6d4;
            --success-color: #10b981;
            --warning-color: #f59e0b;
            --danger-color: #ef4444;
            --dark-bg: #0f172a;
            --card-bg: #1e293b;
            --text-primary: #f8fafc;
            --text-secondary: #94a3b8;
            --border-color: #334155;
            --glass-bg: rgba(30, 41, 59, 0.8);
            --shadow-lg: 0 10px 25px -5px rgba(0, 0, 0, 0.3);
            --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.4);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #0f172a 100%);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Custom Header */
        .enterprise-header {
            background: linear-gradient(135deg, 
                rgba(15, 23, 42, 0.95) 0%,
                rgba(30, 41, 59, 0.95) 50%,
                rgba(15, 23, 42, 0.95) 100%);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--border-color);
            padding: 1.5rem 2rem;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: var(--shadow-lg);
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 2rem;
        }

        .logo-container {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .logo {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: bold;
            box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);
        }

        .logo-text {
            display: flex;
            flex-direction: column;
        }

        .logo-text h1 {
            font-size: 1.5rem;
            font-weight: 700;
            background: linear-gradient(to right, #60a5fa, #8b5cf6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            line-height: 1.2;
        }

        .logo-text .tagline {
            font-size: 0.85rem;
            color: var(--text-secondary);
            font-weight: 500;
        }

        /* Stats Dashboard */
        .stats-dashboard {
            display: flex;
            gap: 1.5rem;
            flex-wrap: wrap;
        }

        .stat-card {
            background: var(--glass-bg);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 0.8rem 1.2rem;
            min-width: 140px;
            backdrop-filter: blur(5px);
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-2px);
            border-color: var(--primary-color);
            box-shadow: 0 8px 20px rgba(37, 99, 235, 0.2);
        }

        .stat-card .stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .stat-card .stat-label {
            font-size: 0.8rem;
            color: var(--text-secondary);
            margin-top: 0.3rem;
            font-weight: 500;
        }

        /* Instance Status */
        .instance-status {
            position: relative;
            cursor: pointer;
        }

        .instance-status .status-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: var(--success-color);
            position: absolute;
            top: -2px;
            right: -2px;
            border: 2px solid var(--dark-bg);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.7); }
            70% { box-shadow: 0 0 0 6px rgba(16, 185, 129, 0); }
            100% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0); }
        }

        /* Quick Actions */
        .quick-actions {
            display: flex;
            gap: 0.8rem;
            margin-top: 1rem;
        }

        .action-btn {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            color: var(--text-secondary);
            padding: 0.5rem 1rem;
            border-radius: 8px;
            font-size: 0.85rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .action-btn:hover {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
            transform: translateY(-1px);
        }

        /* Instance Modal */
        .instance-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background: var(--dark-bg);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            width: 90%;
            max-width: 1200px;
            max-height: 80vh;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            padding: 2rem;
            overflow-y: auto;
            box-shadow: var(--shadow-xl);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--border-color);
        }

        .modal-header h2 {
            font-size: 1.5rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }

        .close-modal {
            background: none;
            border: none;
            color: var(--text-secondary);
            font-size: 1.5rem;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .close-modal:hover {
            color: var(--danger-color);
        }

        .instances-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }

        .instance-card {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 1.5rem;
            transition: all 0.3s ease;
        }

        .instance-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary-color);
            box-shadow: 0 10px 25px rgba(37, 99, 235, 0.15);
        }

        .instance-card .instance-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .instance-card h3 {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .instance-status-indicator {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.85rem;
        }

        .status-live {
            color: var(--success-color);
        }

        .instance-metrics {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.8rem;
            margin-top: 1rem;
        }

        .metric {
            display: flex;
            flex-direction: column;
            gap: 0.3rem;
        }

        .metric-label {
            font-size: 0.75rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .metric-value {
            font-size: 1rem;
            font-weight: 600;
            color: var(--text-primary);
            font-family: 'JetBrains Mono', monospace;
        }

        .instance-actions {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid var(--border-color);
        }

        .instance-btn {
            flex: 1;
            padding: 0.5rem;
            border-radius: 6px;
            border: 1px solid var(--border-color);
            background: transparent;
            color: var(--text-secondary);
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .instance-btn:hover {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        /* Swagger UI Customization */
        #swagger-ui {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }

        .swagger-ui .opblock {
            background: var(--card-bg) !important;
            border: 1px solid var(--border-color) !important;
            border-radius: 12px !important;
            margin: 1.5rem 0 !important;
            box-shadow: var(--shadow-lg) !important;
            transition: all 0.3s ease !important;
        }

        .swagger-ui .opblock:hover {
            transform: translateY(-2px) !important;
            box-shadow: var(--shadow-xl) !important;
            border-color: var(--primary-color) !important;
        }

        .swagger-ui .opblock-tag {
            font-size: 1.5rem !important;
            font-weight: 600 !important;
            color: var(--text-primary) !important;
            border-bottom: 2px solid var(--primary-color) !important;
            padding-bottom: 0.5rem !important;
            margin: 2rem 0 1rem 0 !important;
        }

        .swagger-ui .opblock-summary-method {
            border-radius: 8px !important;
            font-weight: 600 !important;
            min-width: 70px !important;
            text-align: center !important;
        }

        .swagger-ui .opblock-summary-description {
            color: var(--text-secondary) !important;
            font-weight: 500 !important;
        }

        .swagger-ui .opblock-summary-path {
            font-family: 'JetBrains Mono', monospace !important;
            font-weight: 500 !important;
            color: var(--text-primary) !important;
        }

        .swagger-ui .info {
            background: var(--card-bg) !important;
            border: 1px solid var(--border-color) !important;
            border-radius: 12px !important;
            padding: 2rem !important;
            margin-bottom: 2rem !important;
            box-shadow: var(--shadow-lg) !important;
        }

        .swagger-ui .info .title {
            color: var(--text-primary) !important;
            font-size: 2.5rem !important;
            font-weight: 700 !important;
            margin-bottom: 1rem !important;
        }

        .swagger-ui .info .description {
            color: var(--text-secondary) !important;
            font-size: 1.1rem !important;
            line-height: 1.6 !important;
        }

        .swagger-ui .servers {
            background: var(--card-bg) !important;
            border: 1px solid var(--border-color) !important;
            border-radius: 12px !important;
            padding: 1.5rem !important;
            margin: 1rem 0 !important;
        }

        .swagger-ui .servers-title {
            color: var(--text-primary) !important;
            font-weight: 600 !important;
            margin-bottom: 1rem !important;
        }

        /* Custom Footer */
        .enterprise-footer {
            background: var(--dark-bg);
            border-top: 1px solid var(--border-color);
            padding: 2rem;
            margin-top: 3rem;
        }

        .footer-content {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 3rem;
        }

        .footer-section h3 {
            color: var(--text-primary);
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 1.2rem;
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }

        .footer-links {
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
        }

        .footer-link {
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 0.95rem;
            transition: color 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.6rem;
        }

        .footer-link:hover {
            color: var(--primary-color);
        }

        .copyright {
            text-align: center;
            padding-top: 2rem;
            margin-top: 2rem;
            border-top: 1px solid var(--border-color);
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .copyright a {
            color: var(--accent-color);
            text-decoration: none;
            font-weight: 500;
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
            .header-content {
                flex-direction: column;
                gap: 1.5rem;
            }
            
            .stats-dashboard {
                justify-content: center;
            }
            
            .instances-grid {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            }
        }

        @media (max-width: 768px) {
            .enterprise-header {
                padding: 1rem;
            }
            
            .stat-card {
                min-width: 120px;
                padding: 0.7rem 1rem;
            }
            
            #swagger-ui {
                padding: 1rem;
            }
            
            .footer-content {
                grid-template-columns: 1fr;
                gap: 2rem;
            }
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .animate-fadeIn {
            animation: fadeIn 0.6s ease-out;
        }

        /* Scrollbar Styling */
        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-track {
            background: var(--dark-bg);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--border-color);
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--primary-color);
        }
    </style>
</head>
<body>
    <!-- Enterprise Header -->
    <header class="enterprise-header animate-fadeIn">
        <div class="header-content">
            <div class="logo-container">
                <div class="logo">K</div>
                <div class="logo-text">
                    <h1>Krapto Technologies</h1>
                    <span class="tagline">Horizontally Scaled Backend API</span>
                </div>
            </div>
            
            <div class="stats-dashboard">
                <div class="stat-card">
                    <div class="stat-value">
                        <i class="fas fa-server"></i> 10
                    </div>
                    <div class="stat-label">Active Instances</div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-value">
                        <i class="fas fa-bolt"></i> 99.95%
                    </div>
                    <div class="stat-label">Uptime</div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-value">
                        <i class="fas fa-globe"></i> 5
                    </div>
                    <div class="stat-label">Regions</div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-value">
                        <i class="fas fa-chart-line"></i> 5M+
                    </div>
                    <div class="stat-label">Monthly Requests</div>
                </div>
            </div>
            
            <div class="instance-status" onclick="showInstanceModal()">
                <div class="stat-card">
                    <div class="stat-value">
                        <i class="fas fa-shield-alt"></i> Live
                        <div class="status-dot"></div>
                    </div>
                    <div class="stat-label">All Systems Operational</div>
                </div>
            </div>
        </div>
        
        <div class="quick-actions">
            <button class="action-btn" onclick="copyBaseUrl()">
                <i class="fas fa-copy"></i> Copy Base URL
            </button>
            <button class="action-btn" onclick="showInstanceModal()">
                <i class="fas fa-server"></i> View All Instances
            </button>
            <button class="action-btn" onclick="testHealthCheck()">
                <i class="fas fa-heartbeat"></i> Test Health Check
            </button>
            <button class="action-btn" onclick="downloadSpec()">
                <i class="fas fa-download"></i> Download Spec
            </button>
        </div>
    </header>

    <!-- Instance Modal -->
    <div id="instanceModal" class="instance-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-server"></i> Global Instance Network</h2>
                <button class="close-modal" onclick="hideInstanceModal()">&times;</button>
            </div>
            
            <div class="instances-grid" id="instancesGrid">
                <!-- Instances will be dynamically loaded -->
            </div>
        </div>
    </div>

    <!-- Swagger UI Container -->
    <div id="swagger-ui"></div>

    <!-- Enterprise Footer -->
    <footer class="enterprise-footer">
        <div class="footer-content">
            <div class="footer-section">
                <h3><i class="fas fa-code"></i> API Resources</h3>
                <div class="footer-links">
                    <a href="#" class="footer-link" onclick="downloadSpec()">
                        <i class="fas fa-file-code"></i> OpenAPI Specification
                    </a>
                    <a href="#" class="footer-link" onclick="showInstanceModal()">
                        <i class="fas fa-network-wired"></i> Instance Network
                    </a>
                    <a href="#" class="footer-link" onclick="testAllInstances()">
                        <i class="fas fa-vial"></i> Test All Endpoints
                    </a>
                    <a href="#" class="footer-link" onclick="generateClientSDK()">
                        <i class="fas fa-cogs"></i> Generate Client SDK
                    </a>
                </div>
            </div>
            
            <div class="footer-section">
                <h3><i class="fas fa-shield-alt"></i> Security</h3>
                <div class="footer-links">
                    <a href="#" class="footer-link">
                        <i class="fas fa-key"></i> Authentication Guide
                    </a>
                    <a href="#" class="footer-link">
                        <i class="fas fa-user-shield"></i> Rate Limiting
                    </a>
                    <a href="#" class="footer-link">
                        <i class="fas fa-fingerprint"></i> API Keys
                    </a>
                    <a href="#" class="footer-link">
                        <i class="fas fa-lock"></i> Security Best Practices
                    </a>
                </div>
            </div>
            
            <div class="footer-section">
                <h3><i class="fas fa-life-ring"></i> Support</h3>
                <div class="footer-links">
                    <a href="mailto:support@krapto.com" class="footer-link">
                        <i class="fas fa-envelope"></i> support@krapto.com
                    </a>
                    <a href="#" class="footer-link">
                        <i class="fas fa-book"></i> Documentation
                    </a>
                    <a href="#" class="footer-link">
                        <i class="fas fa-bug"></i> Report Issues
                    </a>
                    <a href="#" class="footer-link">
                        <i class="fas fa-rocket"></i> Status Dashboard
                    </a>
                </div>
            </div>
            
            <div class="footer-section">
                <h3><i class="fas fa-users"></i> Team</h3>
                <div class="footer-links">
                    <span class="footer-link">
                        <i class="fas fa-user-tie"></i> Vishal Jha - System Architect
                    </span>
                    <span class="footer-link">
                        <i class="fas fa-user-gear"></i> Aryan Barde - DevOps Lead
                    </span>
                    <span class="footer-link">
                        <i class="fas fa-user-check"></i> Backend Engineering Team
                    </span>
                    <span class="footer-link">
                        <i class="fas fa-user-shield"></i> Security Team
                    </span>
                </div>
            </div>
        </div>
        
        <div class="copyright">
            © 2024 Krapto Technologies. Horizontally Scaled Backend System v2.0.0 | 
            <a href="https://github.com/kraptotech" target="_blank">GitHub</a> | 
            <a href="https://krapto.com" target="_blank">Website</a> | 
            <a href="#" onclick="showLicense()">MIT License</a>
        </div>
    </footer>

    <!-- Swagger Scripts -->
    <script src="https://unpkg.com/swagger-ui-dist@5.9.0/swagger-ui-bundle.js"></script>
    <script src="https://unpkg.com/swagger-ui-dist@5.9.0/swagger-ui-standalone-preset.js"></script>
    
    <script>
        // Instance Data
        const instances = [
            {
                id: 'instance-1',
                name: 'Singapore APAC-1',
                url: 'https://krapto-backend-server-instance-1.onrender.com',
                region: 'Singapore',
                status: 'live',
                loadBalancer: 'Asia-Pacific LB',
                cpu: '32%',
                memory: '45%',
                responseTime: '45ms',
                requests: '1.2M',
                uptime: '7d 3h 15m'
            },
            {
                id: 'instance-2',
                name: 'Singapore APAC-2',
                url: 'https://krapto-backend-server-instance-2.onrender.com',
                region: 'Singapore',
                status: 'live',
                loadBalancer: 'Asia-Pacific LB',
                cpu: '28%',
                memory: '42%',
                responseTime: '48ms',
                requests: '1.1M',
                uptime: '6d 22h 30m'
            },
            {
                id: 'instance-3',
                name: 'Oregon USW-1',
                url: 'https://krapto-backend-server-instance-3.onrender.com',
                region: 'Oregon, USA',
                status: 'live',
                loadBalancer: 'US-West LB',
                cpu: '35%',
                memory: '50%',
                responseTime: '38ms',
                requests: '980K',
                uptime: '8d 1h 45m'
            },
            {
                id: 'instance-4',
                name: 'Oregon USW-2',
                url: 'https://krapto-backend-server-instance-4.onrender.com',
                region: 'Oregon, USA',
                status: 'live',
                loadBalancer: 'US-West LB',
                cpu: '31%',
                memory: '48%',
                responseTime: '42ms',
                requests: '950K',
                uptime: '7d 19h 20m'
            },
            {
                id: 'instance-5',
                name: 'Frankfurt EU-1',
                url: 'https://krapto-backend-server-instance-5.onrender.com',
                region: 'Frankfurt, EU',
                status: 'live',
                loadBalancer: 'Europe LB',
                cpu: '29%',
                memory: '44%',
                responseTime: '52ms',
                requests: '870K',
                uptime: '6d 15h 10m'
            },
            {
                id: 'instance-6',
                name: 'Frankfurt EU-2',
                url: 'https://krapto-backend-server-instance-6.onrender.com',
                region: 'Frankfurt, EU',
                status: 'live',
                loadBalancer: 'Europe LB',
                cpu: '27%',
                memory: '41%',
                responseTime: '55ms',
                requests: '820K',
                uptime: '6d 8h 45m'
            },
            {
                id: 'instance-7',
                name: 'Ohio USC-1',
                url: 'https://krapto-backend-server-instance-7.onrender.com',
                region: 'Ohio, USA',
                status: 'live',
                loadBalancer: 'US-Central LB',
                cpu: '33%',
                memory: '47%',
                responseTime: '40ms',
                requests: '920K',
                uptime: '7d 12h 30m'
            },
            {
                id: 'instance-8',
                name: 'Ohio USC-2',
                url: 'https://krapto-backend-server-instance-8.onrender.com',
                region: 'Ohio, USA',
                status: 'live',
                loadBalancer: 'US-Central LB',
                cpu: '30%',
                memory: '46%',
                responseTime: '43ms',
                requests: '890K',
                uptime: '7d 6h 15m'
            },
            {
                id: 'instance-9',
                name: 'Virginia USE-1',
                url: 'https://krapto-backend-server-instance-9.onrender.com',
                region: 'Virginia, USA',
                status: 'live',
                loadBalancer: 'US-East LB',
                cpu: '34%',
                memory: '49%',
                responseTime: '37ms',
                requests: '1.05M',
                uptime: '8d 5h 20m'
            },
            {
                id: 'instance-10',
                name: 'Virginia USE-2',
                url: 'https://krapto-backend-server-instance-10.onrender.com',
                region: 'Virginia, USA',
                status: 'live',
                loadBalancer: 'US-East LB',
                cpu: '32%',
                memory: '48%',
                responseTime: '39ms',
                requests: '1.01M',
                uptime: '8d 0h 45m'
            }
        ];

        // Initialize Swagger UI
        window.onload = function() {
            const ui = SwaggerUIBundle({
                url: "swagger/openapi.yaml",
                dom_id: '#swagger-ui',
                deepLinking: true,
                presets: [
                    SwaggerUIBundle.presets.apis,
                    SwaggerUIStandalonePreset
                ],
                plugins: [
                    SwaggerUIBundle.plugins.DownloadUrl
                ],
                layout: "StandaloneLayout",
                defaultModelsExpandDepth: 2,
                defaultModelExpandDepth: 2,
                docExpansion: 'list',
                tagsSorter: 'alpha',
                operationsSorter: 'alpha',
                validatorUrl: null,
                displayRequestDuration: true,
                tryItOutEnabled: true,
                requestSnippetsEnabled: true,
                showExtensions: true,
                showCommonExtensions: true,
                filter: true
            });

            // Customize UI
            ui.initOAuth({
                clientId: 'krapto-api-client',
                appName: 'Krapto Technologies API',
                scopeSeparator: ' ',
                additionalQueryStringParams: {},
                useBasicAuthenticationWithAccessCodeGrant: true
            });

            // Populate instances modal
            populateInstancesGrid();
        };

        // Modal Functions
        function showInstanceModal() {
            document.getElementById('instanceModal').style.display = 'block';
            document.body.style.overflow = 'hidden';
        }

        function hideInstanceModal() {
            document.getElementById('instanceModal').style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        function populateInstancesGrid() {
            const grid = document.getElementById('instancesGrid');
            grid.innerHTML = '';
            
            instances.forEach(instance => {
                const card = document.createElement('div');
                card.className = 'instance-card';
                card.innerHTML = `
                    <div class="instance-header">
                        <h3>${instance.name}</h3>
                        <div class="instance-status-indicator">
                            <i class="fas fa-circle status-live"></i>
                            <span>${instance.status.toUpperCase()}</span>
                        </div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">Region</div>
                        <div class="metric-value">${instance.region}</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">Load Balancer</div>
                        <div class="metric-value">${instance.loadBalancer}</div>
                    </div>
                    <div class="instance-metrics">
                        <div class="metric">
                            <div class="metric-label">CPU Usage</div>
                            <div class="metric-value">${instance.cpu}</div>
                        </div>
                        <div class="metric">
                            <div class="metric-label">Memory</div>
                            <div class="metric-value">${instance.memory}</div>
                        </div>
                        <div class="metric">
                            <div class="metric-label">Response Time</div>
                            <div class="metric-value">${instance.responseTime}</div>
                        </div>
                        <div class="metric">
                            <div class="metric-label">Uptime</div>
                            <div class="metric-value">${instance.uptime}</div>
                        </div>
                    </div>
                    <div class="instance-actions">
                        <button class="instance-btn" onclick="copyUrl('${instance.url}')">
                            <i class="fas fa-copy"></i> Copy URL
                        </button>
                        <button class="instance-btn" onclick="testInstance('${instance.id}')">
                            <i class="fas fa-heartbeat"></i> Health Check
                        </button>
                        <button class="instance-btn" onclick="openInstance('${instance.url}')">
                            <i class="fas fa-external-link-alt"></i> Open
                        </button>
                    </div>
                `;
                grid.appendChild(card);
            });
        }

        // Utility Functions
        function copyBaseUrl() {
            const url = 'https://api.krapto.com';
            navigator.clipboard.writeText(url).then(() => {
                alert('Base URL copied to clipboard: ' + url);
            });
        }

        function copyUrl(url) {
            navigator.clipboard.writeText(url).then(() => {
                alert('URL copied to clipboard: ' + url);
            });
        }

        function testHealthCheck() {
            const instance = instances[0];
            fetch(instance.url + '/health')
                .then(response => response.json())
                .then(data => {
                    alert(`Health Check Successful!\nInstance: ${instance.name}\nStatus: ${data.status}\nUptime: ${data.uptime}`);
                })
                .catch(error => {
                    alert('Health Check Failed: ' + error.message);
                });
        }

        function testInstance(instanceId) {
            const instance = instances.find(i => i.id === instanceId);
            if (instance) {
                fetch(instance.url + '/health')
                    .then(response => response.json())
                    .then(data => {
                        alert(`${instance.name} is ${data.status.toUpperCase()}\nResponse Time: ${Date.now() - startTime}ms`);
                    })
                    .catch(error => {
                        alert(`Failed to test ${instance.name}: ${error.message}`);
                    });
            }
        }

        function openInstance(url) {
            window.open(url, '_blank');
        }

        function testAllInstances() {
            alert('Testing all 10 instances...\nThis may take a moment.');
            let healthy = 0;
            instances.forEach(instance => {
                fetch(instance.url + '/health')
                    .then(response => response.json())
                    .then(data => {
                        if (data.status === 'healthy') healthy++;
                        if (healthy === instances.length) {
                            alert(`✅ All ${instances.length} instances are healthy!`);
                        }
                    });
            });
        }

        function downloadSpec() {
            window.open('swagger/openapi.yaml', '_blank');
        }

        function generateClientSDK() {
            alert('Client SDK generation coming soon!\nWill support: JavaScript, Python, Java, Go, C#');
        }

        function showLicense() {
            alert('MIT License\n\nCopyright (c) 2024 Krapto Technologies\n\nPermission is hereby granted...');
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('instanceModal');
            if (event.target === modal) {
                hideInstanceModal();
            }
        }
    </script>
</body>
</html>